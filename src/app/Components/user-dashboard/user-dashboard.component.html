<!-- user-dashboard.component.html -->

<!-- <div>
  <h1>User Dashboard</h1>
  <h2>Select Chronic Diseases:</h2>
  <select [(ngModel)]="selectedDiseaseId" (change)="selectChronicDisease()">
    <option *ngFor="let disease of chronicDiseases" [value]="disease.diseaseId">{{ disease.diseaseName }}</option>
  </select>

  <h2>Selected Chronic Diseases:</h2>
  <ul>
    <li *ngFor="let disease of selectedChronicDiseases">
      {{ disease.diseaseName }}
      <button (click)="removeChronicDisease(disease)">Remove</button>
      <button (click)="goToMeals(disease.diseaseId)">Go to Meals</button>
    </li>
  </ul>
</div> -->


<app-header></app-header>
<div class="user-dashboard">
  <h1>User Dashboard</h1>

  <!-- Select Chronic Diseases -->
  <mat-form-field class="disease-select">
    <mat-select [(ngModel)]="selectedDiseaseId" (selectionChange)="selectChronicDisease()">
      <mat-option *ngFor="let disease of chronicDiseases" [value]="disease.diseaseId">
        {{ disease.diseaseName }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <button mat-raised-button color="primary" (click)="addSelectedChronicDisease()">Add</button>

  <!-- Display Available Meals -->
  <h2>Available Meals:</h2>
  <ul class="available-meals">
    <li *ngFor="let meal of availableMeals">
      {{ meal.name }}
      <p>Type: {{ meal.type }}</p>
      <p>Calories: {{ meal.calories }}</p>
      <p>Protein: {{ meal.protein }}</p>
      <button mat-raised-button color="primary" (click)="addSelectedMeal(meal)">Add</button>
    </li>
  </ul>

  <!-- Selected Chronic Diseases -->
  <h2>Selected Chronic Diseases:</h2>
  <ul class="selected-diseases">
    <li *ngFor="let disease of selectedChronicDiseases">
      {{ disease.diseaseName }}
      <button mat-icon-button color="warn" (click)="removeChronicDisease(disease)">
        <mat-icon>delete</mat-icon>
      </button>
      <button mat-raised-button color="primary" (click)="goToMeals(disease.diseaseId)">Go to Meals</button>
    </li>
  </ul>
</div>
<app-footer></app-footer>

